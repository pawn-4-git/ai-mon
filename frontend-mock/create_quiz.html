<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>あいもん - 問題作成</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #fff;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .header h1 {
            margin: 0;
            color: #333;
        }

        .header .user-info {
            font-size: 16px;
            color: #555;
        }

        .header .user-info a {
            margin-left: 15px;
            color: #007bff;
            text-decoration: none;
        }

        .container {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h2 {
            color: #333;
            margin-top: 0;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-weight: bold;
        }

        input[type="text"],
        textarea,
        select {
            width: calc(100% - 22px);
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        textarea {
            resize: vertical;
            min-height: 80px;
        }

        .radio-group {
            margin-bottom: 15px;
        }

        .radio-group label {
            display: inline-block;
            margin-right: 20px;
            font-weight: normal;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .button-group button {
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .button-group button:hover {
            background-color: #0056b3;
        }

        .button-group .secondary {
            background-color: #6c757d;
        }

        .button-group .secondary:hover {
            background-color: #5a6268;
        }

        .dummy-choices {
            margin-top: 20px;
            border: 1px solid #eee;
            padding: 15px;
            border-radius: 4px;
            background-color: #f9f9f9;
        }

        .dummy-choices h3 {
            margin-top: 0;
            color: #333;
        }

        .dummy-choices ul {
            list-style: none;
            padding: 0;
        }

        .dummy-choices li {
            margin-bottom: 8px;
        }

        .dummy-choices input[type="checkbox"] {
            margin-right: 10px;
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>あいもん</h1>
        <div class="user-info">
            <a href="score_history.html">ようこそ、ユーザー名さん！</a>
            <a href="index.html">ログアウト</a>
        </div>
    </div>
    </div>

    <div class="container">
        <h2>新しい問題を作成</h2>

        <div class="form-group">
            <label for="quiz-title">問題タイトル:</label>
            <input type="text" id="quiz-title" placeholder="例: 日本史の基礎">
        </div>

        <div class="form-group">
            <label for="quiz-group">問題グループ:</label>
            <select id="quiz-group">
                <option value="">-- 既存グループを選択 または 新規作成 --</option>
                <option value="math">数学</option>
                <option value="history">歴史</option>
                <option value="science">科学</option>
            </select>
            <input type="text" id="new-group" placeholder="新しいグループ名（任意）" style="margin-top: 10px;">
        </div>

        <div class="radio-group">
            <label><input type="radio" name="creation-method" value="manual" checked onchange="toggleCreationMethod()">
                手動作成</label>
            <label><input type="radio" name="creation-method" value="auto" onchange="toggleCreationMethod()">
                自動生成</label>
        </div>

        <div id="manual-creation">
            <div class="form-group">
                <label for="question-text">問題文:</label>
                <textarea id="question-text" placeholder="問題文を入力してください"></textarea>
            </div>
            <div class="form-group">
                <label for="correct-choice">正解の選択肢:</label>
                <input type="text" id="correct-choice" placeholder="正解の選択肢を入力してください">
            </div>
            <button onclick="generateDummyChoices()">ダミー選択肢を10個生成</button>

            <div class="dummy-choices" style="display: none;">
                <h3>生成されたダミー選択肢 (3つ選択):</h3>
                <ul>
                    <li><label><input type="checkbox" name="dummy-choice"> ダミー選択肢1</label></li>
                    <li><label><input type="checkbox" name="dummy-choice"> ダミー選択肢2</label></li>
                    <li><label><input type="checkbox" name="dummy-choice"> ダミー選択肢3</label></li>
                    <li><label><input type="checkbox" name="dummy-choice"> ダミー選択肢4</label></li>
                    <li><label><input type="checkbox" name="dummy-choice"> ダミー選択肢5</label></li>
                    <li><label><input type="checkbox" name="dummy-choice"> ダミー選択肢6</label></li>
                    <li><label><input type="checkbox" name="dummy-choice"> ダミー選択肢7</label></li>
                    <li><label><input type="checkbox" name="dummy-choice"> ダミー選択肢8</label></li>
                    <li><label><input type="checkbox" name="dummy-choice"> ダミー選択肢9</label></li>
                    <li><label><input type="checkbox" name="dummy-choice"> ダミー選択肢10</label></li>
                </ul>
            </div>

            <div class="form-group">
                <label for="explanation-text">解説文:</label>
                <textarea id="explanation-text" placeholder="解説文を入力してください"></textarea>
            </div>
        </div>

        <div id="auto-generation" style="display: none;">
            <div class="form-group">
                <label for="source-text">問題生成元となる文章:</label>
                <textarea id="source-text" placeholder="問題を作成したい文章を入力してください"></textarea>
            </div>
            <button onclick="generateQuizFromText()">文章から問題を自動生成</button>
            <div class="generated-quiz"
                style="margin-top: 20px; border: 1px solid #eee; padding: 15px; border-radius: 4px; background-color: #f9f9f9; display: none;">
                <h3>生成された問題（確認・修正）:</h3>
                <div class="form-group">
                    <label>問題文:</label>
                    <textarea id="generated-question-text"></textarea>
                </div>
                <div class="form-group">
                    <label>正解の選択肢:</label>
                    <input type="text" id="generated-correct-choice">
                </div>
                <button onclick="generateDummyChoicesForAuto()">ダミー選択肢を10個生成</button>
                <div class="dummy-choices-auto" style="display: none;">
                    <h3>生成されたダミー選択肢 (3つ選択):</h3>
                    <ul>
                        <li><label><input type="checkbox" name="dummy-choice-auto"> ダミー選択肢A</label></li>
                        <li><label><input type="checkbox" name="dummy-choice-auto"> ダミー選択肢B</label></li>
                        <li><label><input type="checkbox" name="dummy-choice-auto"> ダミー選択肢C</label></li>
                        <li><label><input type="checkbox" name="dummy-choice-auto"> ダミー選択肢D</label></li>
                        <li><label><input type="checkbox" name="dummy-choice-auto"> ダミー選択肢E</label></li>
                        <li><label><input type="checkbox" name="dummy-choice-auto"> ダミー選択肢F</label></li>
                        <li><label><input type="checkbox" name="dummy-choice-auto"> ダミー選択肢G</label></li>
                        <li><label><input type="checkbox" name="dummy-choice-auto"> ダミー選択肢H</label></li>
                        <li><label><input type="checkbox" name="dummy-choice-auto"> ダミー選択肢I</label></li>
                        <li><label><input type="checkbox" name="dummy-choice-auto"> ダミー選択肢J</label></li>
                    </ul>
                </div>
                <div class="form-group">
                    <label>解説文:</label>
                    <textarea id="generated-explanation-text"></textarea>
                </div>
            </div>
        </div>

        <div class="button-group">
            <button onclick="alert('問題を保存します。')">問題を保存</button>
            <button class="secondary" onclick="location.href='quiz_list.html'">キャンセル</button>
        </div>
    </div>

    <script>
        function toggleCreationMethod() {
            const manualDiv = document.getElementById('manual-creation');
            const autoDiv = document.getElementById('auto-generation');
            const selectedMethod = document.querySelector('input[name="creation-method"]:checked').value;

            if (selectedMethod === 'manual') {
                manualDiv.style.display = 'block';
                autoDiv.style.display = 'none';
            } else {
                manualDiv.style.display = 'none';
                autoDiv.style.display = 'block';
            }
        }

        function generateDummyChoices() {
            document.querySelector('#manual-creation .dummy-choices').style.display = 'block';
            alert('ダミー選択肢を生成しました。（機能は未実装）');
        }

        function generateQuizFromText() {
            document.querySelector('#auto-generation .generated-quiz').style.display = 'block';
            document.getElementById('generated-question-text').value = '（自動生成された問題文）';
            document.getElementById('generated-correct-choice').value = '（自動生成された正解）';
            document.getElementById('generated-explanation-text').value = '（自動生成された解説）';
            alert('文章から問題を自動生成しました。（機能は未実装）');
        }

        function generateDummyChoicesForAuto() {
            document.querySelector('#auto-generation .dummy-choices-auto').style.display = 'block';
            alert('ダミー選択肢を生成しました。（機能は未実装）');
        }

        // 初期表示
        toggleCreationMethod();
    </script>
</body>

</html>