# QuizMaker

自作の問題集を作成するためのアプリケーションです。

## 機能一覧

### 1. ユーザーアカウント機能
- ユーザー登録ができます。
    - アカウント名（8桁以上のアルファベットと数値の組み合わせ）を登録します。パスワードは不要です。
- ログイン・ログアウトができます。
    - 登録したアカウント名でログインします。

### 2. 問題作成機能
- **（要ログイン）**
- 問題にタイトルをつけることができます。
- 問題をグループ（例：「数学」「歴史」など）に分けることができます。
- **手動作成:**
    - 問題文と正解の選択肢を入力すると、AIが誤った選択肢（ダミー選択肢）を10個自動で生成します。
    - 生成されたダミー選択肢と、自分で作成した選択肢の中から、問題に使用する3つの誤答を選択できます。
    - 解説文も個別にフォームに入力できます。
- **自動生成:**
    - 指定した文章（テキスト）を解析し、重要なキーワードを抜き出して自動で問題文と正解の選択肢を生成します。
    - 生成された正解の選択肢に基づき、AIが誤った選択肢（ダミー選択肢）を10個自動で生成します。
    - 生成された問題とダミー選択肢を確認・修正し、使用する3つの誤答を選択して問題を保存できます。

### 3. 問題一覧機能
- **（要ログイン）**
- 作成した問題のグループが一覧で表示されます。
- **表示順:**
    1.  **未受験のグループ:** まだ一度もテストを受けていない問題グループが最優先で表示されます。
    2.  **受験済みのグループ:** 過去にテストを受けたことがある問題グループが次に表示されます。
    - グループ内で問題内容が更新された場合、そのグループがリストの上位に表示されやすくなります。

### 4. 問題編集機能
- **（特権ユーザーのみ）**
- **個別編集:** 問題文、選択肢、正解、解説などを個別に編集できます。
- **個別削除:** 特定の問題を一つずつ削除できます。
- **グループ削除:** 問題のグループをまとめて削除できます。
- **データ整合性:**
    - 問題を削除すると、全ユーザーの解答履歴からも該当の問題データが削除されます。
    - 問題内容が変更・削除されると、関連する「苦手傾向分析」の結果も自動的に更新されます。

### 5. 問題出題機能
- 問題のグループを選択し、その中から問題がランダムに出題されます。
- 各問題には「後で確認する」ボタンがあり、チェックを付けることができます。
- 全ての問題に回答し終えると、結果画面に遷移します。
- 結果画面では、全問題の正解・不正解・解説が一覧で表示されます。
- また、別途「解答状況一覧」画面を用意し、各問題の解答状況（解答済み、未解答、「後で確認」チェック）を確認できます。

### 6. 成績記録機能
- クイズ回答後、今回の成績（正解率など）を記録するかどうかを選択できます。
- 記録した成績は、後から個別に削除することができます。
- 一度削除した記録は復元できません。

### 7. 成績確認機能
- 記録した過去の成績を様々な角度から分析・確認できます。
- **グループ別分析:**
    - 問題のグループごとに、平均正答率と最高得点を表示します。
- **得点推移グラフ:**
    - グループごとに、直近10回分の得点の推移をグラフで表示します。
- **苦手傾向分析:**
    - 間違いの多い問題の傾向（特定のキーワードや問題形式など）を分析して表示します。

### 8. データ管理機能
- 1ヶ月以上ログインのない一般ユーザーのアカウント情報および、そのユーザーが作成した問題、解答履歴などの関連データは自動的に削除されます。
- **特権ユーザーのアカウントは、自動削除の対象外です。**

---

## インフラ構成

### フロントエンド
- **フレームワーク:** `Next.js` を使用して開発します。
- **ホスティング:** ローカル環境での実行、または `GitHub Pages` などの静的ホスティングサービスへのデプロイを想定しています。

### バックエンド
本アプリケーションのバックエンドは、AWS上にサーバーレスアーキテクチャで構築されます。

- **データベース:** `Amazon DynamoDB` を使用し、ユーザー情報、問題データ、成績データなどを管理します。
- **API:** `Amazon API Gateway` と `AWS Lambda` を組み合わせて、スケーラブルなAPIを構築します。
- **セキュリティ:** `AWS WAF` を導入し、APIへの不正なアクセスや攻撃からアプリケーションを保護します。
- **機密情報管理:** 特権ユーザーのIDなどの機密情報は `AWS Secrets Manager` を使用して安全に管理します。
- **非同期処理:** 苦手傾向分析などの時間のかかる処理は、`Amazon EventBridge` をトリガーとして `AWS Lambda` で非同期に実行します。
